{
  "version": 1,
  "net": "default",
  "dns": [
    "host"
  ],
  "hostname": "owncloud.example.org",
  "inject_hosts": true,
  "services": {
    "extbuild": {
      "extends": {
        "file": "./reference-model-base/reference-model-base.yml",
        "service": "baseselfbuilt"
      }
    },
    "extservice": {
      "extends": {
        "file": "./reference-model-base/reference-model-base.yml",
        "service": "baseservice"
      },
      "env_file": [
        "./extended.env"
      ],
      "environment": {
        "ADDITIONALVAR": "val",
        "MYVAR1": "MYVALFROMFILE_OVERWRITTEN_IN_ENVIRONMENT"
      },
      "ports": {
        "25-tcp": "25",
        "80-tcp": "80"
      },
      "mounts": {
        "/etc/additional.cf": "./additional.cf"
      }
    },
    "myservice": {
      "image": "docker://owncloud:latest",
      "entrypoint": [
        "entrypoint.sh"
      ],
      "env_file": [
        "./extended.env"
      ],
      "environment": {
        "HTTP_HOST": "myservice.example.org",
        "HTTP_PORT": "5550",
        "MYVAR1": "MYVALFROMFILE_OVERWRITTEN_IN_ENVIRONMENT"
      },
      "ports": {
        "3330-udp": "2220",
        "3331-udp": "2221",
        "5550-tcp": "3330",
        "5551-tcp": "3331",
        "5552-tcp": "3332",
        "5553-tcp": "3333",
        "5554-tcp": "3334",
        "5555-tcp": "3335"
      }
    },
    "selfbuilt1": {
      "build": {
        "context": "./docker-build"
      }
    },
    "selfbuilt2": {
      "build": {
        "context": "./docker-build",
        "dockerfile": "Dockerfile-alternate",
        "args": {
          "buildno": "1",
          "featureenabled": "true",
          "myprop": "myvalue"
        }
      }
    }
  },
  "volumes": {
    "datavol": {
      "source": "./volumes/datavol",
      "kind": "host",
      "readonly": false
    }
  },
  "shared_keys": {
    "http/myservice.example.org": "myservice:5550"
  },
  "shared_keys_overridable": false,
  "stop_grace_period": "15s"
}
